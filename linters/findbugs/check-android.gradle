apply plugin: 'com.github.spotbugs'

spotbugs {
    ignoreFailures = true
    reportLevel = 'medium'
    effort = 'max'
    excludeFilter = file("${project.rootDir}/linters/findbugs/excludes-android.xml")
}

tasks.withType(SpotBugsTask) {
    dependsOn 'assembleDebug' // this task no longer exists (haven't for a while)
    group = "verification"

    classes = files("${project.buildDir}/intermediates/javac")

    reports {
        xml.required = false
        html.required = true
    }
}

dependencies {
    spotbugsPlugins 'com.h3xstream.findsecbugs:findsecbugs-plugin:1.11.0'
}
